<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="https://img.icons8.com/ios-filled/344/mp3.png" type="image/x-icon">
	<title>GeeTDownload</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" defer
		integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
		crossorigin="anonymous"></script>
	<link rel="stylesheet" href="style.css">
</head>

<body>
	<form class="border p-5">
		<h6 class="lead">GeetDownload</h6>
		<div class="mb-3">
			<label for="exampleInputEmail1" class="form-label">Video Link</label>
			<input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
				autocomplete="off">
			<div id="emailHelp" class="form-text">Download mp3 song from youtube for free online.</div>
		</div>
		<button type="button" onclick="getLink()" class="btn btn-primary float-end">Submit</button>
	</form>


	<script src="https://cdn.jsdelivr.net/npm/get-video-id/dist/get-video-id.min.js">

	</script>
	<script>
		function getLink() {
			const link = document.getElementById("exampleInputEmail1").value
			const { id } = getVideoId(link)
			console.log(id)
	 	const options = {
	 		method: 'GET',
		headers: {
	 			'X-RapidAPI-Host': 'youtube-mp3-download1.p.rapidapi.com',
	 			'X-RapidAPI-Key': 'b9514e0973mshde4105c7fec7330p1c1458jsn3567580bdffa'
				}
	 	};

		 	fetch(`https://youtube-mp3-download1.p.rapidapi.com/dl?id=${id}`, options)
		 		.then(response => response.json())
		 		.then(response => {
		 			 console.log(response.link)
		 			 window.location.href=response.link
		 		})
		 		.catch(err => console.error(err));
		 }
		
	</script>

</body>

</html>